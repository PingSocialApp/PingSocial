<div id="choosermap"></div>
<div class="eventMenu">
    <ion-button (click)="downloadEvent()">
        <ion-icon name="cloud-download-outline"></ion-icon>
    </ion-button>
</div>
<div class="eventCreateContainer">
    <div id='geocoder-container'></div>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label position="floating">Name</ion-label>
                <ion-input [(ngModel)]="eventName"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">Description</ion-label>
                <ion-textarea [(ngModel)]="eventDes"></ion-textarea>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label>By {{eventCreatorName}}</ion-label>
                <ion-button *ngIf="!isCreator" [routerLink]="['/userprofile/', this.eventCreator]">
                    <ion-icon name="person"></ion-icon>
                </ion-button>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label position="stacked">Start Time</ion-label>
                <ion-datetime displayFormat="D MMM YYYY H:mm" min="2020" max="2020"
                              id='startTime'></ion-datetime>
            </ion-item>
            <ion-item>
                <ion-label position="stacked">End Time</ion-label>
                <ion-datetime displayFormat="D MMM YYYY H:mm" min="2020" max="2020"
                              id="endTime"></ion-datetime>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label>Event Type</ion-label>
                <ion-select placeholder="Select One" [(ngModel)]="eventType">
                    <ion-select-option value="party">Party</ion-select-option>
                    <ion-select-option value="professional">Professional</ion-select-option>
                    <ion-select-option value="hangout">Hangout</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label>Private Event</ion-label>
                <ion-toggle [(ngModel)]="isPublic"></ion-toggle>
            </ion-item>
            <ion-searchbar animated *ngIf="isPublic && isCreator" (ionInput)="handleInput($event)"></ion-searchbar>
            <ion-list id="memberList" *ngIf="isPublic && isCreator">
                <ion-item *ngFor="let link of links | async">
                    <ion-avatar slot="start">
                        <img src="{{link.img | async}}">
                    </ion-avatar>
                    <ion-label>
                        <h2>{{link.name}}</h2>
                        <p>{{link.bio}}</p>
                    </ion-label>
                    <ion-checkbox [checked]="link.checked" id="{{link.id}}"></ion-checkbox>
                </ion-item>
            </ion-list>
        </ion-card-content>
    </ion-card>
    <ion-fab vertical="bottom" horizontal="end" style="position: fixed" *ngIf="isCreator">
        <ion-fab-button (click)="manageEvent()">
            <ion-icon name="checkmark"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    <ion-fab *ngIf="editMode && isCreator" vertical="bottom" horizontal="start" style="position: fixed">
        <ion-fab-button (click)="deleteEvent()" color="danger">
            <ion-icon name="trash-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</div>