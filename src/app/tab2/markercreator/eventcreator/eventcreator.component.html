<div id="choosermap"></div>
<div class="eventCreateContainer">
    <div id='geocoder-container' *ngIf="isCreator && !afterStartTime"></div>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label position="relative">Name</ion-label>
                <ion-input [(ngModel)]="eventName" [readonly]="!isCreator || afterStartTime"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="floating">Description</ion-label>
                <ion-textarea [(ngModel)]="eventDes" [readonly]="!isCreator || afterStartTime"></ion-textarea>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label>By {{eventCreatorName}}</ion-label>
                <ion-button *ngIf="!isCreator || afterStartTime" [routerLink]="['/userprofile/', this.eventCreator]">
                    <ion-icon name="person"></ion-icon>
                </ion-button>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label position="stacked">Start Time</ion-label>
                <ion-datetime displayFormat="D MMM YYYY h:mm a" min={{minimumStartTime}} max={{maximumStartTime}}
                              id='startTime' [readonly]="!isCreator || afterStartTime" (ionChange) = "updateEndTimeMinimum()"></ion-datetime>
            </ion-item>
            <ion-item>
                <ion-label position="stacked">End Time</ion-label>
                <ion-datetime displayFormat="D MMM YYYY h:mm a" min={{minimumEndTime}} max={{maximumEndTime}}
                              id="endTime" [readonly]="!isCreator || afterStartTime"></ion-datetime>
            </ion-item>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content>
            <ion-item>
                <ion-label>Event Type</ion-label>
                <ion-select placeholder="Select One" [(ngModel)]="eventType" [disabled]="!isCreator || afterStartTime">
                    <ion-select-option value="party">Party</ion-select-option>
                    <ion-select-option value="professional">Professional</ion-select-option>
                    <ion-select-option value="hangout">Hangout</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label>Private Event</ion-label>
                <ion-toggle [(ngModel)]="isPrivate" [disabled]="!isCreator || afterStartTime"></ion-toggle>
            </ion-item>
            <ion-button *ngIf="isPrivate && isCreator" expand="block" (click)="showLinks()">
                <ion-icon name="people"></ion-icon>
                Links
            </ion-button>
        </ion-card-content>
    </ion-card>
    <ion-fab vertical="bottom" horizontal="end" style="position: fixed" *ngIf="isCreator">
        <ion-fab-button (click)="manageEvent()">
            <ion-icon name="checkmark"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    <ion-fab *ngIf="isCreator && !afterStartTime" vertical="bottom" horizontal="start" style="position: fixed">
        <ion-fab-button (click)="deleteEvent()" color="danger">
            <ion-icon name="trash-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    <ion-fab *ngIf="isCreator && afterStartTime" vertical="bottom" horizontal="start" style="position: fixed">
        <ion-fab-button (click)="endEvent()" color="danger">
            <ion-icon name="close-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</div>
<div *ngIf="editMode" class="eventMenu">
    <ion-button (click)="downloadEvent()">
        <ion-label>Download Event</ion-label>
    </ion-button>
</div>
